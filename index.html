<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quadratic Equation Solver</title>
  <meta name="description" content="Solve ax² + bx + c = 0 and see step-by-step workings." />

  <!-- MathJax for nice math formatting -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    /* keep your CSS here (unchanged for brevity) */
  </style>
</head>

<body>
  <!-- HEADER -->
  <header>
    <h1>Quadratic Equation Solver</h1>
    <div class="sub">Solves <strong>ax² + bx + c = 0</strong> and shows the steps.</div>
  </header>

  <div class="container grid">
    <!-- LEFT SIDE: INPUTS -->
    <section class="card">
      <h2 style="margin-top:0">Enter coefficients</h2>
      <div class="row">
        <div>
          <label for="a">a</label>
          <input id="a" type="number" step="any" value="1" />
        </div>
        <div>
          <label for="b">b</label>
          <input id="b" type="number" step="any" value="-3" />
        </div>
        <div>
          <label for="c">c</label>
          <input id="c" type="number" step="any" value="2" />
        </div>
      </div>

      <div class="preview small" id="preview">Equation: \(x^2 - 3x + 2 = 0\)</div>

      <div class="btns">
        <button class="primary" id="solveBtn">Solve</button>
        <button class="secondary" id="clearBtn">Clear</button>
        <button class="ghost" id="exampleBtn">Examples</button>
      </div>
    </section>

    <!-- RIGHT SIDE: STEPS / SOLUTION -->
    <section class="card steps">
      <h2 style="margin-top:0">Steps & Solution</h2>
      <div id="output" class="muted">Enter values and click <em>Solve</em>.</div>
    </section>
  </div>

  <footer>
    <div class="small">Made with HTML, CSS, and JavaScript. <strong>Created By Wilford</strong>.</div>
  </footer>

  <!-- JAVASCRIPT -->
  <script>
    const $ = sel => document.querySelector(sel);

    const fmt = n => {
      if (!isFinite(n)) return String(n);
      const abs = Math.abs(n);
      const s = (abs < 1e-6 || abs > 1e8) ? n.toExponential(6) : n.toFixed(6);
      return s.replace(/\.0+$/,'').replace(/(\.[0-9]*?)0+$/,'$1');
    };

    const solve = () => {
      const a = parseFloat($('#a').value);
      const b = parseFloat($('#b').value);
      const c = parseFloat($('#c').value);
      const out = $('#output');

      if ([a,b,c].some(x => Number.isNaN(x))) {
        out.innerHTML = `<div class="warn">Please enter valid numbers.</div>`;
        return;
      }

      if (a === 0) {
        if (b === 0) {
          out.innerHTML = c === 0
            ? `<div class="result">Infinitely many solutions.</div>`
            : `<div class="warn">No solution.</div>`;
          MathJax.typeset(); return;
        }
        const x = -c / b;
        out.innerHTML = `
          <ol>
            <li>Since \(a=0\), this is a linear equation.</li>
            <li>Rearrange: \( ${fmt(b)}x + ${fmt(c)} = 0\).</li>
            <li>Solve: \(x = ${fmt(x)}\).</li>
          </ol>
        `;
        MathJax.typeset(); return;
      }

      // Quadratic
      const D = b*b - 4*a*c;
      const twoA = 2*a;

      let steps = `
        <ol>
          <li>Equation: \( ${fmt(a)}x^2 + ${fmt(b)}x + ${fmt(c)} = 0 \)</li>
          <li>Quadratic formula: \[x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}\]</li>
          <li>Discriminant: \(D = ${fmt(b)}^2 - 4·${fmt(a)}·${fmt(c)} = ${fmt(D)}\)</li>
      `;

      if (D > 0) {
        const sqrtD = Math.sqrt(D);
        const x1 = (-b + sqrtD) / twoA;
        const x2 = (-b - sqrtD) / twoA;
        steps += `
          <li>\(D > 0\) → two real roots.</li>
        </ol>
        <div class="result">
          \(x_1 = ${fmt(x1)}, \quad x_2 = ${fmt(x2)}\)
        </div>`;
      } else if (D === 0) {
        const x = -b / twoA;
        steps += `
          <li>\(D = 0\) → one double root.</li>
        </ol>
        <div class="result">\(x = ${fmt(x)}\)</div>`;
      } else {
        const sqrtAbsD = Math.sqrt(-D);
        const real = (-b) / twoA;
        const imag = sqrtAbsD / Math.abs(twoA);
        steps += `
          <li>\(D < 0\) → complex roots.</li>
        </ol>
        <div class="result">
          \(x = ${fmt(real)} \pm ${fmt(imag)}i\)
        </div>`;
      }

      out.innerHTML = steps;
      MathJax.typeset(); // re-render math
    };

    $('#solveBtn').addEventListener('click', solve);
    $('#clearBtn').addEventListener('click', () => { $('#output').innerHTML = 'Enter values and click Solve.'; });
  </script>
</body>
</html>
